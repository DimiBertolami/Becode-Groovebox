<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.cdnfonts.com/css/the-led-display-st" rel="stylesheet">
    <link href="looper.css" rel="stylesheet">

    <title>Welcome to the Becode Groovebox</title>
</head>
<body><!--style="background-image: radial-gradient(#40c9ff, #e81cff);"-->
<!--<div id="bpmDisplay" style="background-color: #dd0000; border: 1px solid gold; font-family: 'The Led Display St', sans-serif; color: yellow; width: 120px; height: 30px"></div>-->
<div id="target"></div>
<div id="sequencer" class="container sequencer">
</div>

<label for="compressor" style="font-size: larger; color: blueviolet">compressor</label>
<div id="compressor" style="border: 1px solid gold; background-color: azure; width: fit-content">
       Attack<input id="attack" type="range" min="0" max="1" step="0.01" value="0"/><br>
         knee<input id="knee" type="range" min="0" max="40" step="0.1" value="0"/><br>
        ratio<input id="ratio" type="range" min="1" max="20" step="0.01" value="1"/><br>
      release<input id="release" type="range" min="0" max="1" step="0.01" value="0"/><br>
    threshold<input id="threshold" type="range" min="-100" max="0" step="0.01" value="-100"/>
</div>

<label for="distortionControl" hidden>Distortion</label>
<div id='distortionControl' style="border: 1px solid gold;width: fit-content;" hidden>
    oversample<select name="oversample" id="oversample"><br>
        <option value="none">none</option>
        <option value="2x">2x</option>
        <option value="4x">4x</option>
    </select>
    wet <input id="distortionWet" type="range" min="0" max="1" step="0.01" value="0"/>
</div>

<label for="phaserControl">phaserControl</label>
<div id="phaserControl" style="border: 1px solid gold;width: fit-content;">
    Q<input id="phaserQ" type="range" min="0" max="100" step="1" value="0"/>
    baseFrequency<input id="phaserFreq" type="range" min="0" max="100" step="0.1" value="0.5"/>
    octaves<input id="phaserOct" type="range" min="0" max="7" step="1" value="3"/>
    stages<input id="phaserStages" type="range" min="1" max="100" step="1" value="10"/>
    wet<input id="phaserWet" type="range" min="0" max="1" step="0.01" value="1"/>
</div>
<label for="chorusControl" hidden>chorusControl</label>
<div id="chorusControl" style="border: 1px solid gold;width: fit-content;" hidden>
    delayTime<input id="chorusDelayTime" type="range" min="0" max="100" step="1" value="0"/>
    feedback<input id="chorusFeedback" type="range" min="0" max="100" step="1" value="0"/>
    frequency<input id="chorusDelayTime" type="range" min="0" max="100" step="1" value="0"/>
    spread<input id="chorusDelayTime" type="range" min="0" max="360" step="1" value="360"/>
    type <select name="chorusType" id="chorusType">
            <option value="square">square</option>
            <option value="square2">square2</option>
            <option value="square4">square4</option>
            <option value="square8">square8</option>
            <option value="sine">sine</option>
            <option value="sine2">sine2</option>
            <option value="sine4">sine4</option>
            <option value="sine8">sine8</option>
            <option value="sawtooth">sawtooth</option>
            <option value="sawtooth2">sawtooth2</option>
            <option value="sawtooth4">sawtooth4</option>
            <option value="sawtooth8">sawtooth8</option>
            <option value="sawtooth16">sawtooth16</option>
            <option value="triangle">triangle</option>
            <option value="triangle2">triangle2</option>
            <option value="triangle4">triangle4</option>
            <option value="triangle8">triangle8</option>
        </select>
    wet<input id="chorusDelayTime" type="range" min="0" max="1" step="0.01" value="1"/>
</div>
<div id="my-peak-meter" style="width: 5em; height: 20em; margin: 1em 0;">
</div>

<!--<div id="VUmeter">-->
<!--    <script type="text/javascript" src="nWebAudioVuA.js"></script>-->
<!--    <canvas id="nWebAudioCanvasVuA"  width="125" height="80" style="border: inset 2px #808080;"></canvas>-->
<!--&lt;!&ndash;    <canvas id="nWebAudioCanvasVuA" src="images/vu.png" width="125" height="80" style="border: inset 2px #808080;" data-src="images/VUMeter01.knob" data-sprites="31"></canvas>&ndash;&gt;-->
<!--&lt;!&ndash;    <img  alt="vu" data-diameter="120" data-height=  >&ndash;&gt;-->
<!--</div>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/pizzicato/0.6.4/Pizzicato.js" integrity="sha512-VyI1QFJ5vvwgy/FPf+XWs64XHBFUEMRZNzrhQiXdOFEyDuNO6H8hp/Of4jfo7NG4UEJOnxjP5cwj1P9nqLkTYg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>-->
<!--<script src="Tone.js">-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.7/Tone.js"></script>-->
<script>
    var myMeterElement = document.getElementById('my-peak-meter');
    var myAudio = document.getElementById('play');
    var audioCtx = new window.AudioContext();
    var sourceNode = audioCtx.createMediaElementSource(myAudio);
    sourceNode.connect(audioCtx.destination);
    var meterNode = webAudioPeakMeter.createMeterNode(sourceNode, audioCtx);
    webAudioPeakMeter.createMeter(myMeterElement, meterNode, {});
    myAudio.addEventListener('play', function() {
        audioCtx.resume();
    });

</script>
<!--<script src="https://unpkg.com/tone@next"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js" integrity="sha512-nUjml8mN4CNYqBAy0ndDrd8pJV/eTtBNDsnvNtPqozx9/BccUeWSoKW14qWkQUnhuh8E3m+yra3qdzM68lqPEQ==" crossorigin="anonymous"></script>
<!--<script src="require.js"></script>-->
<script src="input-knobs.js"></script>
<!--<script src="js/W3Module.js"></script>-->
<!--<script src="js/schema-ebml.js"></script>-->
<!--<script src="js/lib-ebml.js"></script>-->
<!--<script src="createPiano.js"></script>-->
<!--<script src="DimsAudio.js"></script>-->
<script src="https://cdn.jsdelivr.net/npm/@tonaljs/tonal/browser/tonal.min.js"></script>
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/pizzicato/0.6.4/Pizzicato.js"-->
<!--        integrity="sha512-VyI1QFJ5vvwgy/FPf+XWs64XHBFUEMRZNzrhQiXdOFEyDuNO6H8hp/Of4jfo7NG4UEJOnxjP5cwj1P9nqLkTYg=="-->
<!--        crossorigin="anonymous"-->
<!--        referrerpolicy="no-referrer"></script>-->
<script src="fx.js"></script>
<script src="synth.js"></script>
<script src="looper.js" ></script>

</body>
</html>